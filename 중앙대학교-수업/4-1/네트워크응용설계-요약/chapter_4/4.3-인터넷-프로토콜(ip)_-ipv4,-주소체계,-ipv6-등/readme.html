<!DOCTYPE html> <html><head>
		<title>README</title>
		<base href="..\..\..\..\../">
		<meta id="root-path" root-path="..\..\..\..\../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Obsidian_main - README">
		<meta property="og:title" content="README">
		<meta property="og:description" content="Obsidian_main - README">
		<meta property="og:type" content="website">
		<meta property="og:url" content="중앙대학교-수업/4-1/네트워크응용설계-요약/chapter_4/4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등/readme.html">
		<meta property="og:image" content="https://user-images.githubusercontent.com/76640167/212647972-acc5a773-a64c-4cd9-adb8-13f3f02876b9.png">
		<meta property="og:site_name" content="Obsidian_main">
		<meta name="author" content="dustbox"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-dark show-inline-title show-ribbon mk-readable-line mk-folder-lines mk-spaces-enabled mk-inline-context-enabled mk-flow-seamless"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="4.3 인터넷 프로토콜(IP): IPv4, 주소체계, IPv6 등"><p dir="auto">4.3 인터넷 프로토콜(IP): IPv4, 주소체계, IPv6 등</p></h1><div class="heading-wrapper"><div class="heading-children"><div class="heading-wrapper"><h2 data-heading="4.3.1 IPv4 데이터그램 포맷" dir="auto" class="heading" id="4.3.1_IPv4_데이터그램_포맷"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>4.3.1 IPv4 데이터그램 포맷</h2><div class="heading-children"><div><p dir="auto">인터넷 네트워크 계층 패킷을 데이터그램(datagram)이라고 부른다.</p></div><div class="heading-wrapper"><h3 data-heading="IPv4 데이터그램 포맷" dir="auto" class="heading" id="IPv4_데이터그램_포맷"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>IPv4 데이터그램 포맷</h3><div class="heading-children"><div><img src="https://user-images.githubusercontent.com/76640167/212647972-acc5a773-a64c-4cd9-adb8-13f3f02876b9.png" alt="데이터그램" referrerpolicy="no-referrer" style="width: 500px; max-width: 100%;">
![[Pasted image 20240618032622.png]]
- `버전 번호`
    - 4비트로 데이터그램의 IP 프로토콜 버전을 명시한다.
    - 라우터는 버전 번호를 확인하여 데이터그램의 나머지 부분을 어떻게 해석할지 결정한다.
    - 다른 버전의 IP는 다른 데이터그램 포맷을 사용한다.
- `헤더 길이`
    - IPv4 데이터그램은 헤더에 가변 길이의 옵션을 포함하므로 이 네 비트로 IP 데이터그램에서 실제 페이로드가 시작하는 곳을 결정한다.
    - 대부분의 IPv4는 옵션을 포함하지 않으므로 대체로 IPv4 데이터그램 헤더는 20바이트다.
- `서비스 타입`
    - IPv4 헤더에 포함된 서비스 타입 비트는 각기 다른 유형의 IP 데이터그램을 구별한다. 예를 들어, 실시간 데이터그램과 비실시간 트래픽을 구분하는 데 유용하다.
- `데이터그램 길이`
    - 바이트로 계산한 IP 데이터그램의 전체 길이다. 총 16비트를 차지하므로 IP 데이터그램의 최대 길이는 65,535 바이트이지만 1,500보다 큰 경우는 거의 없다.
- `식별자`, `플래그`, `단편화 오프셋`
    - IP 단편화와 관련이 있는 필드들이다.
    - 큰 IP 데이터그램이 여러 개의 작은 IP 데이터그램으로 분할된 다음 목적지로 독립적으로 전달되며, 여기서 페이로드 데이터가 최종 호스트의 트랜스포트 계층으로 전달되기 전에 다시 모인다.
- `TTL(time to live)`
    - 이 필드는 네트워크에서 데이터그램이 무한히 순환하지 않도록 한다(라우팅 루프). 라우터가 데이터그램을 처리할 때마다 감소하고, 이 필드가 0이 되면 데이터그램을 폐기한다.
- `프로토콜`
    - 이 필드는 일반적으로 IP 데이터그램이 최종목적지에 도착했을 때만 사용된다. 이 필드값은 IP 데이터그램에서 데이터 부분이 전달될 목적지의 트랜스포트 계층의 특정 프로토콜(TCP, UDP)을 명시한다.
    - IP 데이터그램에서 이 필드는 트랜스포트 계층에서 포트 번호 필드와 역할이 유사하다.
- `헤더 체크섬`
    - 헤더 체크섬은 라우터가 수신한 IP 데이터그램의 비트 오류를 탐지하는데 도움을 준다.
    - 라우터는 오류 검출된 데이터그램을 폐기한다.
    - TTL 필드와 옵션 필드의 값은 변경되므로 체크섬은 각 라우터에서 재계산되고 저장되어야 한다.
    - 트랜스 포트 계층과 네트워크 계층에서 오류 검사를 수행하는 이유
        - IP 헤더만 IP 계층에서 체크섬을 수행하지만 TCP/UDP 체크섬은 전체 TCP/UDP 세그먼트를 계산한다.
        - TCP/UDP와 IP는 동일한 프로토콜 스택에 속할 필요가 없다. 원리상 TCP는 IP가 아닌 곳 위에서도 운영될 수 있다.
- `출발지와 목적지 IP 주소`
    - 출발지가 데이터그램을 생성할 때, 자신의 IP 주소를 출발지 IP 주소 필드에 삽입하고 목적지 IP 주소를 목적지 IP 주소 필드에 삽입한다.
- `옵션`
    - IP 헤더 필드를 확장한다.
    - 모든 데이터그램 헤더 옵션 필드에 정보를 포함하지 않는 방법으로 오버헤드를 해결하기 위해 헤더 옵션은 거의 사용되지 않는다.
    - 데이터그램 헤더가 가변 길이로 데이터 필드 시작점을 초기에 결정할 수 없어 문제를 복잡하게 만든다.
- `데이터(페이로드)`
    - 데이터그램이 존재하는 이유이자 가장 중요한 마지막 필드이다. 대부분의 경우 목적지에 전달하기 위해 트랜스포트 계층 세그먼트를 포함한다.</div><div><p dir="auto">대부분의 IP 데이터그램은 총 20바이트(옵션은 없다고 가정)의 헤더를 갖는다.</p></div><div><p dir="auto">TCP 세그먼트를 전송한다면 단편화가 되지 않은 각 데이터그램은 애플리케이션 계층의 메시지와 더불어 총 40바이트의 헤더(IP 헤더 20, TCP 헤더 20)을 전송한다.</p></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="4.3.2 IPv4 주소체계" dir="auto" class="heading" id="4.3.2_IPv4_주소체계"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>4.3.2 IPv4 주소체계</h2><div class="heading-children"><div><p dir="auto">호스트는 일반적으로 네트워크와 연결되는 하나의 링크를 갖는다.</p></div><div><p dir="auto">호스트 IP가 데이터그램을 보낼 때 이 링크를 통해 데이터링크를 보낸다.</p></div><div><p dir="auto">호스트와 물리적 링크 사이의 경계를 <code>인터페이스(interface)</code>라고 부른다.</p></div><div><p dir="auto">라우터는 여러 개의 링크와 연결되고, 링크와 라우터 사이도 <code>인터페이스(interface)</code>로 이루어져있어 여러개의 <code>인터페이스(interface)</code>를 갖는다.</p></div><div><p dir="auto">모든 호스트와 라우터는 IP 데이터그램을 송수신할 수 있으므로 IP는 각 호스트와 라우터 인터페이스가 IP 주소를 갖도록 요구한다.</p></div><div><p dir="auto">이러한 각 인터페이스는 고유한 IP 주소를 갖는다.</p></div><div><p dir="auto">따라서 <strong>기술 면에서 IP 주소는 <code>인터페이스(interface)</code>를 포함하는 호스트 라우터보다는 <code>인터페이스(interface)</code>와 관련이 있다.</strong></p></div><div class="heading-wrapper"><h3 data-heading="서브넷과 IP 주소" dir="auto" class="heading" id="서브넷과_IP_주소"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>서브넷과 IP 주소</h3><div class="heading-children"><div><p dir="auto">각 IP 주소는 <strong>32비트 길이</strong>다. 따라서 2^32개의 주소를 사용할 수 있다. 일반적으로 <strong>주소의 각 바이트를 십진수로 표현하고 주소의 다른 바이트와 점으로 구분하는 십진 표기법</strong>을 사용한다.</p></div><div><p dir="auto">인터페이스의 IP는 마음대로 선택할 수 없다. IP 주소의 일부는 연결된 <code>서브넷</code>이 결정한다.<br>
<span alt="Pasted image 20240618040414.png" src="Pasted image 20240618040414.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20240618040414.png" src="중앙대학교-수업/4-1/네트워크응용설계-요약/chapter_4/4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등/attachments/pasted-image-20240618040414.png"></span><br>
왼쪽 3개의 호스트와 라우터 인터페이스는 모두 223.1.1.xxx 형식의 IP 주소를 갖는다. 또, 4개의 인터페이스가 중계하는 <strong>라우터 없이</strong> 하나의 네트워크에 서로 연결되어 있다.</p></div><div><p dir="auto">이 네트워크는 이더넷 LAN으로 상호연결되고 이 경우 인터페이스는 이더넷 허브나 이더넷 스위치 또는 무선 AP로 상호연결된다.</p></div><div><p dir="auto">IP 용어로 세 호스트 들의 인터페이스들과 하나의 라우터 인터페이스로 연결된 네트워크는 <code>서브넷(subnet)</code>을 구성한다고 말한다.</p></div><div><p dir="auto">IP 주소체계는 이 서브넷에 <code>223.1.1.0/24</code> 라는 주소를 할당하는데 여기서 <code>/24</code>는 서브넷 마스크라 부르는데, 왼쪽 24비트가 서브넷 주소라는 것을 가리킨다.</p></div><div><p dir="auto">위 그림에서는 3개의 서브넷을 볼 수 있다.</p></div><div><img src="https://user-images.githubusercontent.com/76640167/212667479-eb056442-26a3-4e8f-8bf7-97a1e864981a.png" alt="6개의 서브넷" referrerpolicy="no-referrer" style="width: 500px; max-width: 100%;"></div><div><p dir="auto">서브넷 IP의 정의는 여러 호스트를 라우터 인터페이스에 연결하는 이더넷 세그먼트만을 의미하는 것은 아니다.</p></div><div><p dir="auto">위 그림을 보면 3개의 라우터도 점대점으로 연결되어있는 것을 볼 수 있다.</p></div><div><p dir="auto">여기서는 호스트와 라우터의 연결 뿐만 아니라 라우터 간의 연결에서도 서브넷을 볼 수 있다.</p></div><div><p dir="auto">총 6개의 서브넷을 찾을 수 있다.</p></div><div><p dir="auto"><strong>서브넷의 정의</strong></p></div><div><blockquote dir="auto">
<p dir="auto">💡서브넷을 결정하려면 먼저 호스트나 라우터에서 각 인터페이스를 분리하고 고립된 네트워크를 만든다. 이 고립된 네트워크의 종단점은 인터페이스의 끝이 된다. 이렇게 고립된 네트워크 각각을 서브넷이라고 부른다.</p>
</blockquote></div><div><p dir="auto">위에 의하면 다수의 이더넷 세그먼트와 종단 간의 링크를 갖는 기관은 한 서브넷에서 모든 장비가 같은 서브넷 주소를 갖는 그런 서브넷을 여러개 가질 수 있다.</p></div><div><p dir="auto">서로 다른 서브넷은 다른 주소를 가져야 하지만 실제로 서브넷 주소는 같은 부분이 많다.</p></div></div></div><div class="heading-wrapper"><h3 data-heading="CIDR" dir="auto" class="heading" id="CIDR"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>CIDR</h3><div class="heading-children"><div><p dir="auto">인터넷 주소 할당 방식 중 하나다.</p></div><div><p dir="auto">CIDR는 서브넷 주소 체계 표기를 일반화하고 있다.</p></div><div><p dir="auto">a.b.c.d/x 형식 주소에서 최상위 비트(Most significant bit)를 의미하는 x는 IP 주소의 네트워크 부분을 구성한다.</p></div><div><p dir="auto">이를 해당 주소의 <code>프리픽스</code> 또는 <code>네트워크 프리픽스</code>라고 부른다.</p></div><div><p dir="auto">한 기관은 통상 연속적인 주소의 블록(공통 프리픽스를 갖는 주소 범위)을 할당 받고 기관 장비들의 IP 주소는 공통 프리픽스를 공유한다.</p></div><div><p dir="auto">외부 기관의 라우터는 목적지 주소가 내부 기관인 데이터그램을 전달할 때, 단지 앞의 x 비트들만 고려한다.</p></div><div><p dir="auto">a.b.c.d/x 형태의 한 엔트리만으로 기관 목적지로 패킷을 전달하는 데 충분하므로, 이런 라우터들에서 포워딩 테이블의 크기를 상당히 줄여준다.</p></div><div><p dir="auto">주소의 나머지 32-x 비트들은 기관 내부에 같은 네트워크 프리픽스를 갖는 모든 장비를 구별한다.</p></div><div><p dir="auto">이 비트들은 기관 내부의 라우터에서 패킷을 전달할 때 사용되며 이 하위 비트들은 추가적으로 서브넷 구조를 가질 수도 있다.</p></div></div></div><div class="heading-wrapper"><h3 data-heading="클래스 주소체계" dir="auto" class="heading" id="클래스_주소체계"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>클래스 주소체계</h3><div class="heading-children"><div><p dir="auto">CIDR가 채택되기 전에는 IP 주소의 네트워크 부분을 8, 16, 24 비트로 제한했고 각각의 비트를 서브넷 주소로 갖는 서브넷을 각각 A, B, C 클래스 네트워크로 분류했기 때문에 이러한<br>
주소체계는 <code>클래스 주소체계</code>라고 알려졌다.</p></div><div><p dir="auto">그러나 서브넷 부분이 정확히 1, 2, 3 바이트여야 하는 요구사항은 중소형 크기의 네트워크로 급속히 증가하는 기관의 수를 지원하기엔 문제가 있었다.</p></div><div><p dir="auto">예를 들어 클래스(/24) 서브넷은 254개의 호스트만을 제공하므로 많은 조직을 위해서는 턱없이 부족하고, 클래스(/16) 서브넷은 65634개의 호스트를 제공하여 너무 크다.</p></div></div></div><div class="heading-wrapper"><h3 data-heading="브로드캐스트 주소" dir="auto" class="heading" id="브로드캐스트_주소"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>브로드캐스트 주소</h3><div class="heading-children"><div><p dir="auto">IP의 또 다른 형태인 브로드캐스트 주소 255.255.255.255가 있다.</p></div><div><p dir="auto">호스트가 목적지 주소가 255.255.255.255인 데이터그램을 보내면, 이 메시지는 같은 서브넷에 있는 모든 호스트에게 전달된다.</p></div><div><p dir="auto">다음으로는 한 기관에서 그들의 장비를 위한 주소 블록을 어떻게 획득하는지 알아본 후에, 이 획득한 주소 블록의 주소를 어떻게 장비에 할당하는지 살펴보겠다.</p></div></div></div><div class="heading-wrapper"><h3 data-heading="주소 블록 획득" dir="auto" class="heading" id="주소_블록_획득"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>주소 블록 획득</h3><div class="heading-children"><div><p dir="auto">기관의 서브넷에서 사용하기 위한 IP 주소 블록을 얻기 위해, 네트워크 관리자는 먼저 이미 할당받은 주소의 큰 블록에서 주소를 제공하는 ISP와 접촉해야 한다.</p></div><div><img src="https://user-images.githubusercontent.com/76640167/212675085-61430550-15e6-4fb9-a909-1a7bb8bac116.png" alt="IP 주소 블록" referrerpolicy="no-referrer" style="width: 500px; max-width: 100%;">
![[Pasted image 20240618041549.png]]
ISP가 위와 같은 블럭을 할당 받았다고 할 때, ISP는 블록을 다음처럼 같은 크기의 작은 주소 블록 8개로 나누고, 이것으로 8개 조직을 지원할 수 있다.</div><div><p dir="auto">ISP는 비영리 단체인 <code>ICANN</code>으로 부터 주소 블록을 할당 받는다.</p></div><div><p dir="auto"><code>ICANN</code>의 역할은 <strong>IP 주소 할당</strong>과 <strong>DNS 루트 서버 관리</strong>다.</p></div></div></div><div class="heading-wrapper"><h3 data-heading="호스트 주소 획득: 동적 호스트 구성 프로토콜 (DHCP)" dir="auto" class="heading" id="호스트_주소_획득:_동적_호스트_구성_프로토콜_(DHCP)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>호스트 주소 획득: 동적 호스트 구성 프로토콜 (DHCP)</h3><div class="heading-children"><div><p dir="auto">한 기관은 ISP로부터 주소 블록을 획득하여, 개별 IP 주소를 기관 내부의 호스트와 라우터 인터페이스에 할당한다.</p></div><div><p dir="auto">라우터 인터페이스 주소에 대해, 시스템 관리자는 라우터 안에 IP 주소를 할당한다.</p></div><div><p dir="auto">호스트에 IP 주소를 할당하는 것은 수동으로 구성이 가능하지만 일반적으로 <code>동적 호스트 구성 프로토콜(DHCP)</code>을 많이 사용한다.</p></div><div><p dir="auto">DHCP는 호스트가 IP 주소를 자동으로 얻을 수 있게 하고, 서브넷 마스크, 첫 번째 홉 라우터 주소나 로컬 DNS 서버 주소 같은 추가 정보를 얻게 해준다.</p></div><div><p dir="auto">DHCP는 자동으로 호스트와 연결해주는 능력 때문에 플러그 앤 플레이 프로토콜 또는 제로 구성 프로토콜이라고도 한다.</p></div><div><p dir="auto"><span alt="Pasted image 20240618042542.png" src="Pasted image 20240618042542.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20240618042542.png" src="중앙대학교-수업/4-1/네트워크응용설계-요약/chapter_4/4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등/attachments/pasted-image-20240618042542.png"></span><br>
DHCP는 클라이언트-서버 프로토콜이다.</p></div><div><p dir="auto">클라이언트는 일반적으로 IP 주소를 포함하며 네트워크 설정을 위한 정보를 얻고자 새롭게 도착한 호스트다.</p></div><div><p dir="auto">각 서브넷은 DHCP 서버를 갖거나 없다면 해당 네트워크에 대한 DHCP 서버 주소를 알려줄 DHCP 연결 에이전트(일반적으로 라우터)가 필요하다.</p></div><div><img src="https://user-images.githubusercontent.com/76640167/212680264-a3e3a046-d66c-46d3-b09f-2961a5717062.png" alt="DHCP 동작" referrerpolicy="no-referrer" style="width: 400px; max-width: 100%;">
![[Pasted image 20240618042605.png]]
위 그림은 새로운 호스트가 도착할 경우, DHCP 프로토콜의 4단계 과정을 보여준다.</div><div><ul dir="auto">
<li data-line="0" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><code>DHCP 서버 발견</code>
<ul dir="auto">
<li data-line="1" dir="auto">먼저 새롭게 도착한 호스트는 상호작용할 DHCP를 발견한다. 이것은 <strong>DHCP 발견 메시지</strong>를 사용하여 수행되며, 클라이언트는 포트 67번으로 UDP 패킷을 보낸다.</li>
<li data-line="2" dir="auto">DHCP 클라이언트는 <strong>DHCP 발견 메시지</strong>를 포함하는 IP 데이터 그램을 생성하는데, 이 메시지 내의 목적지 IP 주소를 브로드캐스트 IP 주소 255.255.255.255로 설정하고 출발지 IP<br>
주소는 0.0.0.0으로 설정한다.</li>
<li data-line="4" dir="auto">링크 계층으로 IP 데이터그램을 보내며 이 프레임은 서브넷에 연결된 모든 노드로 브로드캐스트된다.</li>
</ul>
</li>
<li data-line="5" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><code>DHCP 서버 제공</code>
<ul dir="auto">
<li data-line="6" dir="auto">DHCP 발견 메시지를 받은 DHCP 서버는 DHCP 제공 메시지를 클라이언트로 응답한다.</li>
<li data-line="7" dir="auto">이때에도 IP 브로드캐스트 주소를 사용하여 서브넷의 모든 노드로 이 메시지를 브로드캐스트한다.</li>
<li data-line="8" dir="auto">서브넷에는 여러 DHCP 서버가 존재하기 때문에, 클라이언트는 여러 DHCP 제공 메시지로부터 가장 최적의 위치에 있는 DHCP 서버를 선택한다.</li>
<li data-line="9" dir="auto">각각의 서버 제공 메시지는 수신된 발견 메시지의 트랜잭션 ID, 클라이언트에 제공된 IP 주소, 네트워크 마스크, <strong>IP 주소 임대 기간</strong>을 포함한다.</li>
</ul>
</li>
<li data-line="10" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><code>DHCP 요청</code>
<ul dir="auto">
<li data-line="11" dir="auto">새롭게 도착한 클라이언트는 하나 또는 그 이상의 서버 제공자 중에서 선택할 것이고 선택된 제공자에게 파라미터 설정으로 되돌아오는 <strong>DHCP 요청 메시지</strong>로 응답한다.</li>
</ul>
</li>
<li data-line="12" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><code>DHCP ACK</code>
<ul dir="auto">
<li data-line="13" dir="auto">서버는 DHCP 요청 메시지에 대해 요청된 파라미터를 확인하는 <strong>DHCP ACK 메시지</strong>로 응답한다.</li>
</ul>
</li>
</ul></div><div><p dir="auto">클라이언트가 DHCP ACK을 받으면 상호작용이 종료되고 클라이언트는 임대 기간동안 할당 IP 주소를 사용할 수 있다.</p></div><div><p dir="auto">DHCP는 노드가 새로운 서브넷에 연결하고자 할 때마다 새로운 IP 주소를 DHCP로부터 얻기 때문에, 이동 노드가 서브넷 사이를 이동할 때 원격 애플리케이션에 대한 TCP 연결이 유지될 수 없다는 결점이 있다.</p></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="4.3.3 네트워크 주소 변환 (NAT)" dir="auto" class="heading" id="4.3.3_네트워크_주소_변환_(NAT)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>4.3.3 네트워크 주소 변환 (NAT)</h2><div class="heading-children"><div><p dir="auto">모든 호스트가 서브넷으로부터 IP를 할당받고 할 때 네트워크가 현저하게 커지면 큰 주소 블록이 할당되어야 한다.</p></div><div><p dir="auto">ISP가 이미 해당 주소 범위의 인접한 부분을 할당해버리는 등의 문제가 발생할 수 있는데 이런 경우에는 <code>네트워크 주소 변환(NAT)</code>으로 주소를 할당할 수 있다.</p></div><div><p dir="auto"><span alt="Pasted image 20240618043336.png" src="Pasted image 20240618043336.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20240618043336.png" src="중앙대학교-수업/4-1/네트워크응용설계-요약/chapter_4/4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등/attachments/pasted-image-20240618043336.png"></span><br>
<strong>NAT 가능 라우터</strong>는 위 그림의 오른쪽처럼 홈 네트워크의 일부인 인터페이스를 갖는다.</p></div><div><p dir="auto">홈 네트워크의 4개 인터페이스 모두 같은 네트워크 주소 <code>10.0.0.0/24</code>를 갖는다.</p></div><div><p dir="auto">주소 공간 <code>10.0.0.0/8</code>은 <code>사설망</code> 또는 그림의 홈 네트워크와 같은 <code>사설 개인 주소를 갖는 권역(realm)</code>을 위해 RFC에 예약된 IP 주소 공간 세 부분 중의 하나다.</p></div><div><blockquote dir="auto">
<p dir="auto">💡 사설 개인 주소를 갖는 권역(realm)이란 네트워크 주소들이 그 네트워크 내부에 있는 장비에게만 의미가 있는 그런 네트워크를 의미한다.</p>
</blockquote></div><div><p dir="auto">사설 개인 주소를 갖는 권역은 홈 네트워크 내부에서만 의미가 있다. 즉, 글로벌 인터넷과는 송수신할 수 없다.</p></div><div><p dir="auto">NAT 가능 라우터는 외부 세계로는 <strong>하나의 IP 주소를 갖는 하나의 장비</strong>로 동작한다.</p></div><div><p dir="auto">그림을 보면 홈 라우터를 떠나 인터넷으로 가는 트래픽의 출발지 IP 주소는 <code>138.76.29.7</code> 즉, <strong>라우터의 출력 라우터 인터페이스의 IP 주소</strong>를 갖는다.</p></div><div><p dir="auto">홈으로 들어오는 트래픽의 목적지 주소는 마찬가지로 <code>138.76.29.7</code>을 가져야한다.</p></div><div><p dir="auto">본질적으로 NAT 가능 라우터는 외부에서 들어오는 홈 네트워크의 상세한 사항을 숨긴다.</p></div><div><p dir="auto">WAN에서 같은 목적지 IP 주소를 갖는 NAT 라우터에 모든 데이터 그램이 도착하면, 라우터가 주어진 데이터그램을 전달하는 내부 호스트를 어떻게 알 수 있을까?</p></div><div><p dir="auto">NAT 라우터에서 <code>NAT 변환 테이블</code>을 사용하고, 그 테이블에 IP 주소와 포트 번호를 포함하여 알 수 있다.</p></div><div><p dir="auto">위 그림의 <strong>NAT 변환 테이블</strong>을 보며 순서대로 잘 따라가보길 바란다.</p></div><div><p dir="auto">웹 서버는 내부 호스트를 모른채 WAN side의 라우터를 목적지 IP로 하여 응답하고, 라우터는 이 응답을 NAT 변환 테이블을 사용하여 알맞은 내부 호스트에 전달한다.</p></div><div><p dir="auto">포트 번호는 호스트 주소 지정이 아닌 프로세스 주소 지정에 사용된다.</p></div><div><p dir="auto">서버 프로세스는 잘 알려진 포트 번호에서 요청이 올 때까지 기다리고 P2P 프로토콜의 피어는 서버로서의 역할을 할 때 들어오는 연결을 수락해야 하기 때문에 홈 네트워크에서 실행되는 서버에 문제가 발생할 수 있다.</p></div><div><p dir="auto">이 문제의 기술적인 해결책으로는 NAT 순회 도구가 있다.</p></div></div></div><div class="heading-wrapper"><h2 data-heading="4.3.4 IPv6" dir="auto" class="heading" id="4.3.4_IPv6"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>4.3.4 IPv6</h2><div class="heading-children"><div><p dir="auto">IPv4 주소 공간이 빠르게 고갈되어가면서 IPv6 주소 체계가 개발되었다.</p></div><div class="heading-wrapper"><h3 data-heading="IPv6 데이터그램 포맷" dir="auto" class="heading" id="IPv6_데이터그램_포맷"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>IPv6 데이터그램 포맷</h3><div class="heading-children"><div><p dir="auto">IPv6 중요한 변화</p></div><div><ul dir="auto">
<li data-line="0" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>확장된 주소 기능
<ul dir="auto">
<li data-line="1" dir="auto">IPv6는 IP 주소 크기를 32비트에서 128비트로 확장했으므로 IP 주소가 고갈되는 일은 발생하지 않을 것이다.</li>
<li data-line="2" dir="auto">IPv6는 유니캐스트, 멀티캐스트 주소뿐만 아니라 새로운 주소 형태인 애니캐스트 주소가 도입되었다. 애니 캐스트 주소로 명시된 데이터그램은 호스트 그룹의 어떤 이에게든 전달될 수 있다.</li>
</ul>
</li>
<li data-line="3" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>간소화된 40 바이트 헤더
<ul dir="auto">
<li data-line="4" dir="auto">40 바이트 고정 길이 헤더는 라우터가 IP 데이터그램을 더 빨리 처리하게 해준다.</li>
<li data-line="5" dir="auto">새로운 옵션 인코딩은 유연한 옵션 처리를 가능하게 한다.</li>
</ul>
</li>
<li data-line="6" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>흐름 레이블링
<ul dir="auto">
<li data-line="7" dir="auto">정의하기 어려운 흐름을 갖고있다. RFC는 "비 디폴트 품질 서비스나 실시간 서비스 같은 특별한 처리를 요청하는 송신자에 대해 특정 흐름에 속하는 패킷 레이블링"을 가능하게 한다고 설명한다.<br>
아직 정확한 의미는 정의되지 않았지만, 언젠가 필요할 흐름 차별화를 예견하여 구현하였다.</li>
</ul>
</li>
</ul></div><div><img src="https://user-images.githubusercontent.com/76640167/212698226-9bf18f85-3111-4434-9202-f2ed45aabd28.png" alt="IPv6 데이터그램 포맷" referrerpolicy="no-referrer" style="width: 500px; max-width: 100%;"></div><div><p dir="auto">IPv6 데이터그램 포맷은 그림과 같다.</p></div><div><ul dir="auto">
<li data-line="0" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><code>버전</code>
<ul dir="auto">
<li data-line="1" dir="auto">4비트 필드는 IP 버전 번호를 인식한다. IPv6라면 6이다.</li>
</ul>
</li>
<li data-line="2" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><code>트래픽 클래스</code>
<ul dir="auto">
<li data-line="3" dir="auto">IPv4의 TOS 필드와 비슷한 의미로 만든 8비트 필드는 흐름 내의 SMTP 이메일 같은 애플리케이션의 데이터그램보다 Volp 같은 특정 애플리케이션 데이터그램에 우선순위를 부여하는데 사용된다.</li>
</ul>
</li>
<li data-line="4" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><code>흐름 레이블</code>
<ul dir="auto">
<li data-line="5" dir="auto">데이터그램의 흐름을 인식하는데 사용된다.</li>
</ul>
</li>
<li data-line="6" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><code>페이로드 길이</code>
<ul dir="auto">
<li data-line="7" dir="auto">이 16비트 값은 IPv6 데이터그램에서 고정 길이 40바이트 패킷 헤더 뒤에 나오는 바이트 길이이며, 부호 없는 정수다.</li>
</ul>
</li>
<li data-line="8" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><code>다음 헤더</code>
<ul dir="auto">
<li data-line="9" dir="auto">이 필드는 데이터그램의 내용이 전달될 프로토콜을 구분한다.(TCP, UDP)</li>
</ul>
</li>
<li data-line="10" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><code>홉 제한</code>
<ul dir="auto">
<li data-line="11" dir="auto">라우터가 데이터그램을 전달할 때 마다 1씩 감소하고, 0이되면 데이터그램이 라우터에 의해 버려진다.</li>
</ul>
</li>
<li data-line="12" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><code>출발지와 목적지 주소</code>
<ul dir="auto">
<li data-line="13" dir="auto">출발지와 목적지 주소를 담고 있다.</li>
</ul>
</li>
<li data-line="14" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><code>데이터</code>
<ul dir="auto">
<li data-line="15" dir="auto">IPv6 데이터그램의 페이로드 부분이다. 데이터그램이 목적지에 도착하면 IP 데이터그램에서 페이로드를 제거한 후, 다음 헤더 필드에 명시한 프로토콜에 전달한다.</li>
</ul>
</li>
</ul></div><div><p dir="auto">IPv4에는 있지만 IPv6에는 없는 필드</p></div><div><ul dir="auto">
<li data-line="0" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><code>단편화/재결합</code>
<ul dir="auto">
<li data-line="1" dir="auto">IPv6에서는 단편화와 재결합을 출발지와 목적지만이 수행한다.</li>
<li data-line="2" dir="auto">라우터가 받은 IPv6 데이터그램이 너무 커서 출력 링크로 전달할 수 없다면 라우터는 데이터그램을 폐기하고 너무 크다는 ICMP 오류 메시지를 송신자에게 보낸다.</li>
<li data-line="3" dir="auto">송신자는 데이터를 IP 데이터그램 크기를 줄여서 다시 보낸다.</li>
<li data-line="4" dir="auto">라우터에서 이 기능을 수행하는 것은 시간이 오래 걸리므로 이 기능을 삭제하여 IP 전달 속도를 증가시켰다.</li>
</ul>
</li>
<li data-line="5" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><code>헤더 체크섬</code>
<ul dir="auto">
<li data-line="6" dir="auto">트랜스포트 계층 프로토콜과 데이터 링크 프로토콜은 체크섬을 수행하므로 IP 설계자는 네트워크 계층의 체크섬 기능이 반복되는 것으로 생략해도 될 것이라 생각하여 삭제했다.</li>
</ul>
</li>
<li data-line="7" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><code>옵션</code>
<ul dir="auto">
<li data-line="8" dir="auto">IPv4에서도 잘 사용되지 않았던 필드가 사라지고 고정 헤더의 길이를 갖게되었다.</li>
<li data-line="9" dir="auto">다대신 옵션 필드는 IPv6 헤더에서 다음 헤더 중 하나가 될 수 있다.</li>
</ul>
</li>
</ul></div></div></div><div class="heading-wrapper"><h3 data-heading="IPv4에서 IPv6로의 전환" dir="auto" class="heading" id="IPv4에서_IPv6로의_전환"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>IPv4에서 IPv6로의 전환</h3><div class="heading-children"><div><p dir="auto">IPv6는 IPv4 데이터그램을 보내고 라우팅하며 받을 수 있는 새 IPv6 시스템이 있는 반면에, IPv4로 구축된 시스템은 IPv6 데이터그램을 처리할 수 없다는 것에서 발생한다.</p></div></div></div><div class="heading-wrapper"><h3 data-heading="플래그 데이 선언" dir="auto" class="heading" id="플래그_데이_선언"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>플래그 데이 선언</h3><div class="heading-children"><div><p dir="auto">모든 인터넷 장비를 끄고 IPv4를 IPv6로 업그레이드하는 시간과 날짜를 정하는 것으로 40년 전에 실제로 NCP를 TCP로 전이하였다.</p></div><div><p dir="auto">그러나 수억개의 장비가 관련된 플레그 데이는 오늘날에는 절대 불가능하다.</p></div></div></div><div class="heading-wrapper"><h3 data-heading="터널링" dir="auto" class="heading" id="터널링"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>터널링</h3><div class="heading-children"><div><img src="https://user-images.githubusercontent.com/76640167/212711125-cbde816b-a934-4a2e-a404-92665e9e93ea.png" alt="터널링" referrerpolicy="no-referrer" style="width: 700px; max-width: 100%;"></div><div><p dir="auto">실제로 널리 사용하는 방법이다.</p></div><div><p dir="auto">두 IPv6 노드(그림에서는 B와 E)가 IPv6 데이터그램을 사용해서 작동한다고 가정해보자.</p></div><div><p dir="auto">물론 이들은 IPv4 라우터를 통해 연결되어있다. 이렇게 IPv6 노드 사이에 연결되어있는 IPv4 라우터들을 <code>터널(tunnel)</code>이라고 한다.</p></div><div><p dir="auto">IPv6 송신 과정</p></div><div><ol dir="auto">
<li data-line="0" dir="auto">터널의 송신 측에 있는 IPv6 노드는 IPv6 데이터그램을 받고 IPv4 데이터그램의 데이터 필드에 이것을 넣는다.</li>
<li data-line="1" dir="auto">IPv4 데이터그램에 목적지 주소를 터널의 수신 측에 IPv6 노드로 적어서 터널의 첫 번째 노드에 보낸다.</li>
<li data-line="2" dir="auto">터널 내부에 있는 IPv4라우터는 IPv4 라우터는 IPv4 데이터그램이 IPv6 데이터그램을 갖고 있다는 사실을 모른채 다른 데이터그램을 처리하는 방식으로 IPv4 데이터 그램을 처리한다.</li>
<li data-line="3" dir="auto">터널 수신 측에 있는 IPv6 노드는 IPv4 데이터그램을 받고 이 IPv4 데이터그램이 실제 IPv6 데이터그램임을 결정한다.</li>
<li data-line="4" dir="auto">다음 노드에 IPv6 데이터그램을 보낸다.</li>
</ol></div><div><p dir="auto">기초적인 IPv6 수용은 이루어지고 있지만 최근에 이루어진 것은 없다.</p></div><div class="mod-footer"></div></div></div></div></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="중앙대학교-수업\4-1\네트워크응용설계-요약\chapter_4\4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등\readme.html#4.3 인터넷 프로토콜(IP): IPv4, 주소체계, IPv6 등"><div class="tree-item-contents heading-link" heading-name="4.3 인터넷 프로토콜(IP): IPv4, 주소체계, IPv6 등"><span class="tree-item-title">4.3 인터넷 프로토콜(IP): IPv4, 주소체계, IPv6 등</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="중앙대학교-수업\4-1\네트워크응용설계-요약\chapter_4\4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등\readme.html#4.3.1_IPv4_데이터그램_포맷"><div class="tree-item-contents heading-link" heading-name="4.3.1 IPv4 데이터그램 포맷"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">4.3.1 IPv4 데이터그램 포맷</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="중앙대학교-수업\4-1\네트워크응용설계-요약\chapter_4\4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등\readme.html#IPv4_데이터그램_포맷"><div class="tree-item-contents heading-link" heading-name="IPv4 데이터그램 포맷"><span class="tree-item-title">IPv4 데이터그램 포맷</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="중앙대학교-수업\4-1\네트워크응용설계-요약\chapter_4\4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등\readme.html#4.3.2_IPv4_주소체계"><div class="tree-item-contents heading-link" heading-name="4.3.2 IPv4 주소체계"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">4.3.2 IPv4 주소체계</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="중앙대학교-수업\4-1\네트워크응용설계-요약\chapter_4\4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등\readme.html#서브넷과_IP_주소"><div class="tree-item-contents heading-link" heading-name="서브넷과 IP 주소"><span class="tree-item-title">서브넷과 IP 주소</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="중앙대학교-수업\4-1\네트워크응용설계-요약\chapter_4\4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등\readme.html#CIDR"><div class="tree-item-contents heading-link" heading-name="CIDR"><span class="tree-item-title">CIDR</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="중앙대학교-수업\4-1\네트워크응용설계-요약\chapter_4\4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등\readme.html#클래스_주소체계"><div class="tree-item-contents heading-link" heading-name="클래스 주소체계"><span class="tree-item-title">클래스 주소체계</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="중앙대학교-수업\4-1\네트워크응용설계-요약\chapter_4\4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등\readme.html#브로드캐스트_주소"><div class="tree-item-contents heading-link" heading-name="브로드캐스트 주소"><span class="tree-item-title">브로드캐스트 주소</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="중앙대학교-수업\4-1\네트워크응용설계-요약\chapter_4\4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등\readme.html#주소_블록_획득"><div class="tree-item-contents heading-link" heading-name="주소 블록 획득"><span class="tree-item-title">주소 블록 획득</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="중앙대학교-수업\4-1\네트워크응용설계-요약\chapter_4\4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등\readme.html#호스트_주소_획득:_동적_호스트_구성_프로토콜_(DHCP)"><div class="tree-item-contents heading-link" heading-name="호스트 주소 획득: 동적 호스트 구성 프로토콜 (DHCP)"><span class="tree-item-title">호스트 주소 획득: 동적 호스트 구성 프로토콜 (DHCP)</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="중앙대학교-수업\4-1\네트워크응용설계-요약\chapter_4\4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등\readme.html#4.3.3_네트워크_주소_변환_(NAT)"><div class="tree-item-contents heading-link" heading-name="4.3.3 네트워크 주소 변환 (NAT)"><span class="tree-item-title">4.3.3 네트워크 주소 변환 (NAT)</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="중앙대학교-수업\4-1\네트워크응용설계-요약\chapter_4\4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등\readme.html#4.3.4_IPv6"><div class="tree-item-contents heading-link" heading-name="4.3.4 IPv6"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">4.3.4 IPv6</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="중앙대학교-수업\4-1\네트워크응용설계-요약\chapter_4\4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등\readme.html#IPv6_데이터그램_포맷"><div class="tree-item-contents heading-link" heading-name="IPv6 데이터그램 포맷"><span class="tree-item-title">IPv6 데이터그램 포맷</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="중앙대학교-수업\4-1\네트워크응용설계-요약\chapter_4\4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등\readme.html#IPv4에서_IPv6로의_전환"><div class="tree-item-contents heading-link" heading-name="IPv4에서 IPv6로의 전환"><span class="tree-item-title">IPv4에서 IPv6로의 전환</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="중앙대학교-수업\4-1\네트워크응용설계-요약\chapter_4\4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등\readme.html#플래그_데이_선언"><div class="tree-item-contents heading-link" heading-name="플래그 데이 선언"><span class="tree-item-title">플래그 데이 선언</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="중앙대학교-수업\4-1\네트워크응용설계-요약\chapter_4\4.3-인터넷-프로토콜(ip)_-ipv4,-주소체계,-ipv6-등\readme.html#터널링"><div class="tree-item-contents heading-link" heading-name="터널링"><span class="tree-item-title">터널링</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>